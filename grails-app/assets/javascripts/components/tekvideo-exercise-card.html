<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icons/communication-icons.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-styles/color.html">
<link rel="import" href="../bower_components/paper-styles/typography.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<dom-module id="tekvideo-exercise-card">

<template>
<style include="iron-flex"></style>
<style is="custom-style">
:host {
    display: block;
    width: 400px;
}
iron-image {
    width: 100%;
    height: 224px;
}
paper-card {
    width: 100%;
    height: 100%;
}

p {
    font-size: 16px;
    color: black;
}

.header { @apply(--paper-font-headline); }
.light {
    font-family: Roboto, Noto, sans-serif;
    height: 48px;
    line-height: 24px;
    color: var(--paper-grey-600);
}
.stats {
    float: right;
    font-size: 15px;
    vertical-align: middle;
}

a {
    color: var(--google-blue-500);
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

.reserve { color: var(--google-blue-500); }

.header-container {
    position: relative;
}

.time {
    position: absolute;
    bottom: 15px;
    right: 15px;
    color: white;
    background-color: rgba(0, 0, 0, 0.5);
    padding: 5px
}

iron-icon.star {
    --iron-icon-width: 16px;
    --iron-icon-height: 16px;
    color: var(--paper-amber-500);
}
iron-icon.star:last-of-type { color: var(--paper-grey-500); }
</style>

<paper-card>
    <div class="header-container">
        <iron-image sizing="cover" src="[[_computeThumbnail(videoId)]]"></iron-image>
        <span class="time">[[time]]</span>
    </div>
    <div class="card-content">
      <div class="header"><a href$="[[href]]">[[title]]</a>
        <div class="stats light">
                <iron-icon icon="visibility"></iron-icon>
                <span>[[viewCount]]</span>
                <iron-icon icon="communication:comment"></iron-icon>
                <span>[[commentCount]]</span>
        </div>
      </div>
      <p>[[author]]・[[course]]・[[subject]]</p>
      <p class="light"><content></content></p>
    </div>
  </paper-card>
</template>

<script>
Polymer({
    is: 'tekvideo-exercise-card',
    properties: {
        time: {
            type: String
        },
        title: {
            type: String
        },
        commentCount: {
            type: Number
        },
        viewCount: {
            type: Number
        },
        author: {
            type: String
        },
        course: {
            type: String
        },
        subject: {
            type: String
        },
        videoId: {
            type: String
        },
        href: {
            type: String
        }
    },
    _computeThumbnail: function(videoId) {
        return "http://img.youtube.com/vi/"+videoId+"/hqdefault.jpg"
    }
});
</script>
</dom-module>